function urlG(){urlP.addEntropy();stop||setTimeout(urlG,urlInteverval)}function passG(){passwordP.addEntropy();stop||setTimeout(passG,urlInteverval)}function getFromBrowserIfAvailable(){var t=window.crypto||window.msCrypto,n;return t?(n=new Uint32Array(64),window.crypto.getRandomValues(n),n):Math.random()}function beforeFormSubmit(){stopPrngs();var n=document.getElementById("data").value;document.getElementById("id").value=raw;document.getElementById("encrypted").value=sjcl.encrypt(pass,n);showCreds=!0}function stopPrngs(){stop=!0;raw=sjcl.codec.base64.fromBits(sjcl.hash.sha256.hash(urlP.string(64)),!0);var n=encodeURIComponent(raw);fullUrl=url+"?id="+n;pass=sjcl.codec.base64.fromBits(sjcl.hash.sha256.hash(passwordP.string(64)),!0);fullUrl+="#"+pass}function afterFormSubmit(){showCreds&&(document.title="passcache",document.getElementById("result").removeAttribute("hidden"),document.getElementById("accessUrl").innerHTML=fullUrl,document.getElementById("inputs").innerHTML="");showCreds=!1}function copyToClipboard(){var n=document.createElement("input"),t;n.setAttribute("value",document.getElementById("accessUrl").innerHTML);document.body.appendChild(n);n.select();document.execCommand("copy");document.body.removeChild(n);t=document.getElementById("copy-button");t.setAttribute("disabled","disabled");t.innerHTML="Copied to clipboard"}function Uheprng(){return function(){function h(){++e>=u&&(e=0);var n=1768863*i[e]+o*23283064365386963e-26;return i[e]=n-(o=n|0)}function c(){var r=Array.prototype.slice.call(arguments);for(n=0;n<r.length;n++)for(t=0;t<u;t++)i[t]-=f(r[n]),i[t]<0&&(i[t]+=1)}for(var u=48,o=1,e=u,i=new Array(u),t,s=0,f=Mash(),r,n=0;n<u;n++)i[n]=f(Math.random());return r=function(n){return Math.floor(n*(h()+(h()*2097152|0)*11102230246251565e-32))},r.string=function(n){for(var i="",t=0;t<n;t++)i+=String.fromCharCode(33+r(94));return i},r.cleanString=function(n){return n=n.replace(/(^\s*)|(\s*$)/gi,""),n=n.replace(/[\x00-\x1F]/gi,""),n.replace(/\n /,"\n")},r.hashString=function(e){for(e=r.cleanString(e),f(e),n=0;n<e.length;n++)for(s=e.charCodeAt(n),t=0;t<u;t++)i[t]-=f(s),i[t]<0&&(i[t]+=1)},r.addEntropy=function(){var t=[];for(n=0;n<arguments.length;n++)t.push(arguments[n]);c(s+++(new Date).getTime()+t.join("")+Math.random())},r.initState=function(){for(f(),n=0;n<u;n++)i[n]=f(" ");o=1;e=u},r.done=function(){f=null},r}()}function Mash(){var n=4022871197;return function(t){var r,i;if(t){for(t=t.toString(),r=0;r<t.length;r++)n+=t.charCodeAt(r),i=.025196032824169379*n,n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296;return(n>>>0)*23283064365386963e-26}n=4022871197}}window.onload=function(){var t=document.getElementById("encrypted").value,n=window.location.toString().split("#");n.length===2&&(document.getElementById("data").value=sjcl.decrypt(n[1],t))};var showCreds=!1,stop=!1,urlInteverval=Math.random()*10+5,passInterval=Math.random()*10+5,pass="",raw="",fullUrl="",urlP=Uheprng(),passwordP=Uheprng();urlP.initState();urlP.addEntropy(getFromBrowserIfAvailable());urlP.addEntropy(urlEntropy);passwordP.initState();passwordP.addEntropy(getFromBrowserIfAvailable());passwordP.addEntropy(passEntropy);urlG();passG();"use strict";